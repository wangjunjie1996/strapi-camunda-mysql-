(window.webpackJsonp=window.webpackJsonp||[]).push([[1041],{1463:function(t,a,e){"use strict";e.r(a);var s=e(9),o=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"mongodb-installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-installation"}},[t._v("#")]),t._v(" MongoDB Installation")]),t._v(" "),e("h2",{attrs:{id:"install-mongodb-locally"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-mongodb-locally"}},[t._v("#")]),t._v(" Install MongoDB locally")]),t._v(" "),e("h3",{attrs:{id:"_1-install-mongodb-on-your-development-environment"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-install-mongodb-on-your-development-environment"}},[t._v("#")]),t._v(" 1. Install MongoDB on your development environment")]),t._v(" "),e("p",[t._v("If you already have MongoDB installed locally and running as a background service, you may skip to "),e("a",{attrs:{href:"#_2-install-strapi-locally-with-mongodb"}},[t._v("Install Strapi locally with MongoDB")]),t._v(". (If you have additional questions, please see the official "),e("a",{attrs:{href:"https://docs.mongodb.com/manual/installation/#tutorial-installation",target:"_blank",rel:"noopener noreferrer"}},[t._v("MongoDB 文章"),e("OutboundLink")],1),t._v(". )")]),t._v(" "),e("p",[t._v("Please complete the installation steps appropriate to your operating system.")]),t._v(" "),e("Tabs",{attrs:{type:"border-card"}},[e("Tab",{attrs:{label:"Windows 10"}},[e("h3",{attrs:{id:"install-mongodb-on-windows-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-mongodb-on-windows-10"}},[t._v("#")]),t._v(" Install MongoDB on Windows 10")]),t._v(" "),e("p",[t._v("Follow these steps to "),e("a",{attrs:{href:"https://docs.mongodb.com/manual/tutorial/install-mongodb-on-windows/",target:"_blank",rel:"noopener noreferrer"}},[t._v("install MongoDB onto your Windows 10"),e("OutboundLink")],1),t._v(" environment (The Windows Sub-System for Linux (WSL) is unsupported by MongoDB):")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("Download the "),e("code",[t._v("MongoDB Community Edition Server")]),t._v(" for Windows "),e("a",{attrs:{href:"https://www.mongodb.com/download-center/community?jmp=docs",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),e("OutboundLink")],1),t._v(". Select "),e("code",[t._v("MongoDB Community Server")]),t._v(" and verify the options that match your computer. Then "),e("code",[t._v("Download")]),t._v(" the package and follow the installation instructions to complete the process.")])]),t._v(" "),e("li",[e("p",[t._v("After successfully installing MongoDB, the MongoDB service is started. To begin using MongoDB, connect a mongo.exe shell to the running MongoDB instance.")])])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:\\Program Files\\MongoDB\\Server'),e("span",{pre:!0,attrs:{class:"token entity",title:"\\4"}},[t._v("\\4")]),t._v(".0"),e("span",{pre:!0,attrs:{class:"token entity",title:"\\b"}},[t._v("\\b")]),t._v('in\\mongo.exe"')]),t._v("\n")])])]),e("p",[t._v("You can exit the MongoDB shell with "),e("code",[t._v("CTRL + C")]),t._v(".")]),t._v(" "),e("p",[t._v("You have now installed MongoDB for "),e("em",[t._v("Windows 10")]),t._v(". You are now ready to "),e("a",{attrs:{href:"#_2-install-strapi-locally-with-mongodb"}},[t._v("install Strapi with MongoDB locally")]),t._v(".")])]),t._v(" "),e("Tab",{attrs:{label:"Mac"}},[e("h3",{attrs:{id:"install-mongodb-on-mac"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-mongodb-on-mac"}},[t._v("#")]),t._v(" Install MongoDB on Mac")]),t._v(" "),e("p",[t._v("Follow these steps to "),e("a",{attrs:{href:"https://docs.mongodb.com/manual/tutorial/install-mongodb-on-os-x/",target:"_blank",rel:"noopener noreferrer"}},[t._v("install MongoDB onto your Mac"),e("OutboundLink")],1),t._v(" developer environment:")]),t._v(" "),e("ol",[e("li",[t._v("Use "),e("code",[t._v("brew")]),t._v(" to tap the official MongoDB formula repository and add it to the formula list:")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("brew tap mongodb/brew\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("Now install MongoDB")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("brew "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" mongodb-community@4.0\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("Get the mongod process running in order to connect and use MongoDB:")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("mongod --config /usr/local/etc/mongod.conf\n")])])]),e("p",[t._v("You have now installed MongoDB for "),e("em",[t._v("Mac")]),t._v(". You are now ready to "),e("a",{attrs:{href:"#_2-install-strapi-locally-with-mongodb"}},[t._v("install Strapi with MongoDB locally")]),t._v(".")])]),t._v(" "),e("Tab",{attrs:{label:"Ubuntu"}},[e("h3",{attrs:{id:"install-mongodb-on-ubuntu"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-mongodb-on-ubuntu"}},[t._v("#")]),t._v(" Install MongoDB on Ubuntu")]),t._v(" "),e("p",[t._v("Follow these steps to "),e("a",{attrs:{href:"https://docs.mongodb.com/manual/administration/install-on-linux/",target:"_blank",rel:"noopener noreferrer"}},[t._v("install MongoDB onto your Ubuntu"),e("OutboundLink")],1),t._v(" environment:")]),t._v(" "),e("ol",[e("li",[t._v("Import a public key to ensure your MongoDB is authentic:")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 9DA31620334BD75D9DCB49F368818C72E52529D4\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("Next, add the repository for 18.04. Repositories for other versions of Ubuntu are found "),e("a",{attrs:{href:"https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),e("OutboundLink")],1),t._v(".")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deb [ arch=amd64 ] https://repo.mongodb.org/apt/ubuntu bionic/mongodb-org/4.0 multiverse"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("tee")]),t._v(" /etc/apt/sources.list.d/mongodb-org-4.0.list\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("Reload the local package database:")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[t._v("Install the stable release MongoDB package")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y mongodb-org\n")])])]),e("ol",{attrs:{start:"5"}},[e("li",[t._v("Get the "),e("code",[t._v("mongod")]),t._v(" process running in order to connect and use MongoDB:")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" mongod start\n")])])]),e("ol",{attrs:{start:"6"}},[e("li",[t._v("Confirm the MongoDB status:")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" mongod status\n")])])]),e("ol",{attrs:{start:"7"}},[e("li",[t._v("The last step is to enable automatically starting MongoDB when your computer boots:")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" mongod\n")])])]),e("p",[t._v("You have now installed MongoDB for "),e("em",[t._v("Linux")]),t._v(". You are now ready to "),e("a",{attrs:{href:"#_2-install-strapi-locally-with-mongodb"}},[t._v("install Strapi with MongoDB locally")]),t._v(".")])])],1),t._v(" "),e("h3",{attrs:{id:"_2-install-strapi-locally-with-mongodb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-install-strapi-locally-with-mongodb"}},[t._v("#")]),t._v(" 2. Install Strapi locally with MongoDB")]),t._v(" "),e("p",[t._v("Follow these steps to create a Strapi project locally using the MongoDB database.")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("MongoDB must already be running in the background.")])]),t._v(" "),e("ol",[e("li",[t._v("Create a new Strapi project")])]),t._v(" "),e("p",[e("code",[t._v("Path: ./")])]),t._v(" "),e("Tabs",{attrs:{type:"border-card"}},[e("Tab",{attrs:{label:"yarn"}},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("yarn create strapi-app my-project\n")])])])]),t._v(" "),e("Tab",{attrs:{label:"npx"}},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npx create-strapi-app my-project\n")])])])])],1),t._v(" "),e("ul",[e("li",[t._v("Use your "),e("code",[t._v("down arrow")]),t._v(" key and select "),e("code",[t._v("Custom (manual settings)")]),t._v(" and press "),e("code",[t._v("enter")]),t._v(":")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("? Choose your installation "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v("\n  Quickstart "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("recommended"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n❯ Custom "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("manual settings"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("ul",[e("li",[t._v("Select "),e("code",[t._v("MongoDB")]),t._v(" and press "),e("code",[t._v("enter")]),t._v(":")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("? Choose your installation "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" Custom "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("manual settings"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n? Choose your main database:\n  SQLite\n❯ MongoDB\n  MySQL\n  Postgres\n")])])]),e("ul",[e("li",[t._v("Press "),e("code",[t._v("enter")]),t._v(" to select the remaining default options. It will look something like this:")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("\n? Choose your installation "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" Custom "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("manual settings"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n? Choose your main database: MongoDB\n? Database name: my-project\n? Host: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1\n? +srv connection: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n? Port "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("It will be ignored "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" you "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" +srv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("27017")]),t._v("\n? Username:\n? Password:\n? Authentication database "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Maybe "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin"')]),t._v(" or blank"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\n? Enable SSL connection: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n\n⏳ Testing database connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nThe app has been connected to the database successfully"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n\n🏗  Application generation:\n✔ Copy dashboard\n✔ Installed dependencies.\n\n👌 Your new application my-project is ready at /Users/david/Desktop/Projects/my-project.\n\n⚡️ Change directory:\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" my-project\n\n⚡️ Start application:\n$ strapi develop\n\n")])])]),e("p",[t._v("You have successfully installed Strapi with MongoDB on your local development environment. You are now ready to "),e("RouterLink",{attrs:{to:"/developer-docs/latest/getting-started/quick-start.html#_2-create-an-administrator-user"}},[t._v("create your first user")]),t._v(".")],1),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"install-on-atlas-mongodb-atlas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#install-on-atlas-mongodb-atlas"}},[t._v("#")]),t._v(" Install on Atlas: MongoDB Atlas")]),t._v(" "),e("p",[t._v("Follow these steps to configure a local Strapi project to use a "),e("a",{attrs:{href:"https://www.mongodb.com/cloud/atlas",target:"_blank",rel:"noopener noreferrer"}},[t._v("MongoDB Atlas"),e("OutboundLink")],1),t._v(" free 512 MB account in production. (Please see "),e("a",{attrs:{href:"https://docs.atlas.mongodb.com/getting-started/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MongoDB Atlas 文档"),e("OutboundLink")],1),t._v(" if you have any questions.)")]),t._v(" "),e("ul",[e("li",[t._v("You must have already "),e("RouterLink",{attrs:{to:"/developer-docs/latest/setup-deployment-guides/configurations/databases/mongodb.html#_2-install-strapi-locally-with-mongodb"}},[t._v("created your Strapi project using MongoDB")]),t._v(".")],1),t._v(" "),e("li",[t._v("You must have already created a "),e("a",{attrs:{href:"https://www.mongodb.com/cloud/atlas",target:"_blank",rel:"noopener noreferrer"}},[t._v("free MongoDB Atlas account"),e("OutboundLink")],1),t._v(".")])]),t._v(" "),e("h3",{attrs:{id:"_1-log-in-to-your-account-to-create-a-project-and-a-cluster"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-log-in-to-your-account-to-create-a-project-and-a-cluster"}},[t._v("#")]),t._v(" 1. Log in to your account to create a "),e("strong",[t._v("Project")]),t._v(" and a "),e("strong",[t._v("Cluster")])]),t._v(" "),e("ul",[e("li",[t._v("First you need to "),e("code",[t._v("Create a new Project")]),t._v(".")]),t._v(" "),e("li",[t._v("然后 click "),e("code",[t._v("Build a Cluster")]),t._v(", from the options page:\n"),e("ul",[e("li",[t._v("Choose "),e("strong",[t._v("AWS")]),t._v(" as your "),e("strong",[t._v("Cloud Provider & Region")]),t._v(".")]),t._v(" "),e("li",[t._v("Select a "),e("strong",[t._v("Region")]),t._v(". (Note: some "),e("strong",[t._v("Regions")]),t._v(" do not have a "),e("em",[t._v("free tier")]),t._v(".)")]),t._v(" "),e("li",[t._v("In "),e("strong",[t._v("Cluster Tier")]),t._v(", select "),e("strong",[t._v("Shared Sandbox")]),t._v(", "),e("em",[t._v("Tier")]),t._v(" "),e("code",[t._v("MO")]),t._v(".")]),t._v(" "),e("li",[t._v("In "),e("strong",[t._v("Cluster Name")]),t._v(", name your cluster.")])])]),t._v(" "),e("li",[t._v("点击 green "),e("code",[t._v("Create Cluster")]),t._v(' 按钮 You will get a message that says, "'),e("em",[t._v("Your cluster is being created...")]),t._v('"')])]),t._v(" "),e("h3",{attrs:{id:"_2-next-click-on-the-database-access-在左边的菜单里-under-overview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-next-click-on-the-database-access-在左边的菜单里-under-overview"}},[t._v("#")]),t._v(" 2. Next, click on the "),e("code",[t._v("Database Access")]),t._v(" 在左边的菜单里 (under "),e("code",[t._v("Overview")]),t._v("):")]),t._v(" "),e("ul",[e("li",[t._v("点击 green "),e("code",[t._v("+ ADD NEW USER")]),t._v(" button:\n"),e("ul",[e("li",[t._v("Enter a "),e("code",[t._v("username")]),t._v(".")]),t._v(" "),e("li",[t._v("Enter a "),e("code",[t._v("password")]),t._v(".")]),t._v(" "),e("li",[t._v("Under "),e("code",[t._v("User Privileges")]),t._v(" ensure "),e("strong",[e("code",[t._v("Read and write to any database")])]),t._v(" is selected. Then click "),e("code",[t._v("Add User")]),t._v(" to save.")])])])]),t._v(" "),e("h3",{attrs:{id:"_3-then-whitelist-your-ip-address-click-into-network-access-under-security-在左边的菜单里"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-then-whitelist-your-ip-address-click-into-network-access-under-security-在左边的菜单里"}},[t._v("#")]),t._v(" 3. Then "),e("code",[t._v("whitelist")]),t._v(" your IP address. Click into "),e("code",[t._v("Network Access")]),t._v(", under "),e("code",[t._v("Security")]),t._v(" 在左边的菜单里:")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("点击 green "),e("code",[t._v("+ ADD IP ADDRESS")])]),t._v(" "),e("ul",[e("li",[t._v("Click "),e("code",[t._v("ADD CURRENT IP ADDRESS")]),t._v(" or "),e("strong",[t._v("manually")]),t._v(" enter in an IP address to "),e("code",[t._v("whitelist")]),t._v(".")]),t._v(" "),e("li",[t._v("Leave a comment to label this IP Address. E.g. "),e("code",[t._v("Office")]),t._v(".")]),t._v(" "),e("li",[t._v("然后 click the green "),e("code",[t._v("Confirm")]),t._v(" 按钮")]),t._v(" "),e("li",[t._v("Delete the "),e("code",[t._v("0.0.0.0/0")]),t._v(" configuration after testing the connection.")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("If for any reason you need to test the configuration or other aspect of your connection to the database, you may want to set back the "),e("code",[t._v("Allow Access from Anywhere")]),t._v(". Follow this steps:")])]),t._v(" "),e("ul",[e("li",[t._v("点击 green "),e("code",[t._v("+ ADD IP ADDRESS")]),t._v(" "),e("ul",[e("li",[t._v("Next add "),e("code",[t._v("0.0.0.0/0")]),t._v(" in the "),e("code",[t._v("Whitelist Entry")]),t._v(". "),e("strong",[t._v("Note:")]),t._v(" In permanent projects you would configure this with the appropriate IP addresses.")]),t._v(" "),e("li",[t._v("Leave a comment to label this IP Address. E.g. "),e("code",[t._v("Anywhere")]),t._v(".")]),t._v(" "),e("li",[t._v("Click "),e("code",[t._v("Confirm")]),t._v(". Then wait until the status turns from "),e("code",[t._v("Pending")]),t._v(" to "),e("code",[t._v("Active")]),t._v(".")])])])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("If you are serving you Strapi project from a known IP Address then follow the following steps to "),e("code",[t._v("allow Network Access")]),t._v(".")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Manually")]),t._v(" enter in an IP address to "),e("code",[t._v("whitelist")]),t._v(", for your Strapi server.")]),t._v(" "),e("li",[t._v("Leave a comment to label this IP Address. E.g. "),e("code",[t._v("Heroku Server")])]),t._v(" "),e("li",[t._v("然后 click the green "),e("code",[t._v("Confirm")]),t._v(" 按钮")])])])]),t._v(" "),e("h3",{attrs:{id:"_4-retrieve-database-credentials"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-retrieve-database-credentials"}},[t._v("#")]),t._v(" 4. Retrieve database credentials")]),t._v(" "),e("p",[t._v("MongoDB Atlas automatically exposes the database credentials into a single environment variable accessible by your app. To locate it, follow these steps:")]),t._v(" "),e("ul",[e("li",[t._v("Under "),e("code",[t._v("Atlas")]),t._v(" in the left-hand, click on "),e("code",[t._v("Clusters")]),t._v(". This should take you to your "),e("code",[t._v("cluster")]),t._v(". Next, click "),e("code",[t._v("CONNECT")]),t._v(" and then "),e("code",[t._v("Connect Your Application")]),t._v(".")]),t._v(" "),e("li",[t._v("Under "),e("code",[t._v("1. Choose your driver version")]),t._v(", select "),e("strong",[t._v("DRIVER")]),t._v(" as "),e("code",[t._v("Node.js")]),t._v(" and "),e("strong",[t._v("VERSION")]),t._v(" as "),e("code",[t._v("2.2.12 or later")]),t._v("."),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("You "),e("strong",[t._v("must")]),t._v(" use "),e("code",[t._v("Version: 2.2.12 or later")]),t._v(".")])])]),t._v(" "),e("li",[t._v("This should show a "),e("strong",[t._v("Connection String Only")]),t._v(" similar to this:")])]),t._v(" "),e("p",[e("code",[t._v("mongodb://paulbocuse:<password>@strapi-heroku-shard-00-00-oxxxo.mongodb.net:27017,strapi-heroku-shard-00-01-oxxxo.mongodb.net:27017,strapi-heroku-shard-00-02-oxxxo.mongodb.net:27017/test?ssl=true&replicaSet=Strapi-Heroku-shard-0&authSource=admin&retryWrites=true&w=majority")])]),t._v(" "),e("p",[t._v("You must use remove some string and it has to look like so:")]),t._v(" "),e("p",[e("code",[t._v("mongodb://paulbocuse:<password>@strapi-heroku-shard-00-00-oxxxo.mongodb.net:27017,strapi-heroku-shard-00-01-oxxxo.mongodb.net:27017,strapi-heroku-shard-00-02-oxxxo.mongodb.net:27017/test?ssl=true")])]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("Please note the "),e("code",[t._v("<password>")]),t._v(" after your "),e("code",[t._v("username")]),t._v(". 在这个例子中, after "),e("code",[t._v("mongodb://paulbocuse:")]),t._v(". You will need to replace the "),e("code",[t._v("<password>")]),t._v(" with the password you created earlier for this user in your "),e("strong",[t._v("MongoDB Atlas")]),t._v(" account.")])]),t._v(" "),e("h3",{attrs:{id:"_5-update-and-replace-your-existing-database-js-config-file-for-the-appropriate-environment-development-production"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-update-and-replace-your-existing-database-js-config-file-for-the-appropriate-environment-development-production"}},[t._v("#")]),t._v(" 5. Update and replace your existing "),e("code",[t._v("/database.js")]),t._v(" config file for the appropriate environment (development | production).")]),t._v(" "),e("p",[t._v("Replace the contents of "),e("code",[t._v("/database.js")]),t._v(" with the following and replace "),e("strong",[t._v("< password >")]),t._v(" with the password of the user of your database you created earlier:")]),t._v(" "),e("p",[e("code",[t._v("Path: ./config/database.js")]),t._v(".")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" env "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  defaultConnection"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'default'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  connections"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      connector"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mongoose'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      settings"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        uri"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DATABASE_URI'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      options"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        ssl"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[e("code",[t._v("Path: .env")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("DATABASE_URI=mongodb://paulbocuse:<password>@strapidatabase-shard-00-00-fxxx6c.mongodb.net:27017,strapidatabase-shard-00-01-fxxxc.mongodb.net:27017,strapidatabase-shard-00-02-fxxxc.mongodb.net:27017/test?ssl=true&replicaSet=strapidatabase-shard-0&authSource=admin&retryWrites=true&w=majority\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),e("p",[t._v("The above configuration will create a database called "),e("code",[t._v("strapi")]),t._v(", the "),e("em",[t._v("default database")]),t._v(" Strapi sets for any "),e("strong",[t._v("MongoDB")]),t._v(" database. If you would like to name your database something else, add the following "),e("strong",[t._v("key:value pair")]),t._v(" into your "),e("strong",[t._v("settings:")]),t._v(" located in your "),e("code",[t._v("database.js")]),t._v(" file.")]),t._v(" "),e("p",[e("code",[t._v("database: 'my-database-name'")])])]),t._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v('We recommend replacing sensitive (eg. "URI string" above) information in your database configuration files before uploading your project to a public repository such as GitHub. 详细信息 about using environment variables, please read '),e("RouterLink",{attrs:{to:"/developer-docs/latest/setup-deployment-guides/configurations.html"}},[t._v("configurations")]),t._v(".")],1)]),t._v(" "),e("p",[t._v("You are now ready use Strapi locally or to deploy your project to an external hosting provider and use MongoDB Atlas as your database server.")])],1)}),[],!1,null,null,null);a.default=o.exports}}]);