(window.webpackJsonp=window.webpackJsonp||[]).push([[1027],{1448:function(t,a,s){"use strict";s.r(a);var e=s(9),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"自定义管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义管理"}},[t._v("#")]),t._v(" 自定义管理")]),t._v(" "),s("p",[t._v("在本指南中，我们将看到如何自定义管理面板。")]),t._v(" "),s("h2",{attrs:{id:"引言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引言"}},[t._v("#")]),t._v(" 引言")]),t._v(" "),s("p",[t._v("在这个例子中，我们将看到两件事:")]),t._v(" "),s("ol",[s("li",[t._v("管理面板本身的定制，通过更新 "),s("code",[t._v("/admin/")]),t._v(" 主页;")]),t._v(" "),s("li",[t._v("如何更新插件的接口，通过替换 "),s("code",[t._v("date")]),t._v(" 内容管理器列表视图中的格式.")])]),t._v(" "),s("p",[t._v("首先，您将必须阅读 "),s("RouterLink",{attrs:{to:"/developer-docs/latest/development/admin-customization.html"}},[t._v("管理面板定制")]),t._v(" ，它将帮助您了解如何定制所有的应用程序。")],1),t._v(" "),s("h2",{attrs:{id:"更新管理员主页"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新管理员主页"}},[t._v("#")]),t._v(" 更新管理员主页")]),t._v(" "),s("p",[t._v("如果遵循自定义概念，则可以在应用程序中创建 "),s("code",[t._v("./admin")]),t._v(" 文件夹。")]),t._v(" "),s("h3",{attrs:{id:"指定要更新的文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指定要更新的文件"}},[t._v("#")]),t._v(" 指定要更新的文件")]),t._v(" "),s("p",[t._v("然后，您必须调查 "),s("a",{attrs:{href:"https://github.com/strapi/strapi/tree/master/packages/strapi-admin",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("strapi-admin")]),s("OutboundLink")],1),t._v(" 包，以找到用于显示管理面板主页的文件。")]),t._v(" "),s("p",[t._v("这里是"),s("a",{attrs:{href:"https://github.com/strapi/strapi/tree/master/packages/strapi-admin/admin/src/containers/HomePage/index.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("主页容器"),s("OutboundLink")],1),t._v(" ，您必须更新。")]),t._v(" "),s("h3",{attrs:{id:"退出文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#退出文件"}},[t._v("#")]),t._v(" 退出文件")]),t._v(" "),s("p",[t._v("让我们弹出这个文件，以便能够定制它。")]),t._v(" "),s("p",[s("strong",[t._v("Path —")]),t._v(" "),s("code",[t._v("./admin/src/containers/HomePage/index.js")])]),t._v(" "),s("p",[t._v("在这个新文件中，粘贴当前的 "),s("a",{attrs:{href:"https://github.com/strapi/strapi/tree/master/packages/strapi-admin/admin/src/containers/HomePage/index.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("HomePage container"),s("OutboundLink")],1),t._v(" 代码。")]),t._v(" "),s("p",[t._v("要运行应用程序，请运行以下命令:")]),t._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"yarn"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" develop --watch-admin\n")])])])]),t._v(" "),s("Tab",{attrs:{label:"npm"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run develop -- --watch-admin\n")])])])])],1),t._v(" "),s("p",[t._v("如果你访问管理员，主页上什么都不会改变，这很正常！")]),t._v(" "),s("h3",{attrs:{id:"自定义文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义文件"}},[t._v("#")]),t._v(" 自定义文件")]),t._v(" "),s("p",[t._v("为了让这个例子保持简单，我们将把 HomePage 简化成一个更简单的设计。")]),t._v(" "),s("p",[s("strong",[t._v("Path —")]),t._v(" "),s("code",[t._v("./admin/src/containers/HomePage/index.js")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" memo "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Block"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Container "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./components'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("HomePage")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" global"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" plugins "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" history"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" push "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Container className"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"container-fluid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div className"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"row"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div className"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"col-12"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Block"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Hello World"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Block"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Container"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("memo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("HomePage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("现在管理面板主页应该只包含句子 "),s("code",[t._v("Hello World")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"更新内容管理器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新内容管理器"}},[t._v("#")]),t._v(" 更新内容管理器")]),t._v(" "),s("p",[t._v("如果遵循自定义概念，则可以在应用程序中创建 "),s("code",[t._v("./extensions/content-manager")]),t._v(" 文件夹。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("为了能够查看更新，您需要具有具有 "),s("code",[t._v("date")]),t._v(" 属性的 Content Type。")])]),t._v(" "),s("h3",{attrs:{id:"指定要更新的文件-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指定要更新的文件-2"}},[t._v("#")]),t._v(" 指定要更新的文件")]),t._v(" "),s("p",[t._v("然后，您必须调查 "),s("a",{attrs:{href:"https://github.com/strapi/strapi/tree/master/packages/strapi-plugin-content-manager",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("strapi-plugin-content-manager")]),s("OutboundLink")],1),t._v(" 包，以找到用于格式化列表视图日期的文件。")]),t._v(" "),s("p",[t._v("下面是 "),s("a",{attrs:{href:"https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-manager/admin/src/components/CustomTable/Row.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Row component"),s("OutboundLink")],1),t._v(" ，它需要一个 "),s("a",{attrs:{href:"https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-manager/admin/src/utils/dateFormats.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("dedicated file"),s("OutboundLink")],1),t._v(" 来修改日期显示。")]),t._v(" "),s("h3",{attrs:{id:"退出文件-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#退出文件-2"}},[t._v("#")]),t._v(" 退出文件")]),t._v(" "),s("p",[t._v("让我们弹出文件，以便能够定制它。")]),t._v(" "),s("p",[s("strong",[t._v("Path —")]),t._v(" "),s("code",[t._v("./extensions/content-manager/admin/src/utils/dateFormats.js")])]),t._v(" "),s("p",[t._v("在这个新文件中，粘贴当前的 "),s("a",{attrs:{href:"https://github.com/strapi/strapi/blob/master/packages/strapi-plugin-content-manager/admin/src/utils/dateFormats.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("dateFormats"),s("OutboundLink")],1),t._v(" 代码。")]),t._v(" "),s("p",[t._v("要运行应用程序，请运行以下命令:")]),t._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"yarn"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" develop --watch-admin\n")])])])]),t._v(" "),s("Tab",{attrs:{label:"npm"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run develop -- --watch-admin\n")])])])])],1),t._v(" "),s("p",[t._v("如果您访问您的内容类型的条目列表视图，什么都不会改变。这是正常的！")]),t._v(" "),s("h3",{attrs:{id:"customize-the-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#customize-the-file"}},[t._v("#")]),t._v(" Customize the file")]),t._v(" "),s("p",[t._v("在我们的示例中，我们希望更改日期的格式。我们必须在这个文件中找到管理日期格式的行。")]),t._v(" "),s("p",[t._v("下面是你需要找到的代码:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dateFormats "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("defaultDateFormats"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Customize the format by un-commenting the one you wan to override it corresponds to the type of your field")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// date: 'dddd, MMMM Do YYYY',")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// datetime: 'dddd, MMMM Do YYYY HH:mm',")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// time: 'HH:mm A',")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// timestamp: 'dddd, MMMM Do YYYY HH:mm',")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("现在让我们替换日期: "),s("code",[t._v("date: 'dddd, MMMM Do YYYY'")]),t._v(" by "),s("code",[t._v("date: 'YYYY/MM/DD';")]),t._v(";")]),t._v(" "),s("p",[t._v("而且，日期现在将以新的格式显示。")]),t._v(" "),s("h2",{attrs:{id:"建立新的管理员"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#建立新的管理员"}},[t._v("#")]),t._v(" 建立新的管理员")]),t._v(" "),s("p",[t._v("现在你有了你想要的管理面板。但是在整个过程中，管理面板在运行时更新，因为命令 "),s("code",[t._v("yarn develop --watch-admin")]),t._v(" 或 "),s("code",[t._v("npm run develop -- --watch-admin")]),t._v("。")]),t._v(" "),s("p",[t._v("如果你开始你的应用程序使用 "),s("code",[t._v("yarn start")]),t._v(" 或 "),s("code",[t._v("yarn develop")]),t._v(" 管理将是老版本。未应用更新。")]),t._v(" "),s("p",[t._v("为此，您必须使用下面的命令 "),s("code",[t._v("yarn build")]),t._v(" 管理面板。")])],1)}),[],!1,null,null,null);a.default=r.exports}}]);